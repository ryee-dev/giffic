<div class="container">
  <br><br>
  <div class="card">
    <% @previous_nodes.each do |previous_node| %>
      <p class="lead"><%= previous_node.sentence %>
        <span class="signature">-<%= previous_node.signature %></span></p>
      <img class="gif" src="<%= previous_node.gif_url %>">
    <% end %>
  </div>
  <% if @previous_nodes.length > 0 %>
    <% if @previous_nodes[-1].next_nodes_ids == nil %>
      <br>
      <div class="card">
        <div class="card-body">
          <h4>You've reached the end of what's written.</h4>
          <%= form_for @new_node do |f| %>
            <%#= f.label :sentence, "Keep the story going:" %>
            <%= f.text_field :sentence, class: "form-control", placeholder: "Add next passage here" %>
            <br>
            <%#= f.label :signature, "Leave your initials:" %>
            <%= f.text_field :signature, class: "form-control", placeholder: "Enter initials here" %>
            <br>
            <%= f.text_field :gif_url, class: "form-control", placeholder: "Enter gif URL here" %>
            <br>
            <%= f.submit "Add to story", class: "btn btn-success" %>
          <% end %>
        </div>
      </div>
    <% end %>
  <% else %>
      <div class="next-node">
        <h1 class="current-sentence">Once upon a time...</h1>
        <div class="row" id="selections">
          <% @next_nodes.each do |node| %>
            <%= form_for node do |f| %>
              <%= f.hidden_field :next_nodes_ids, :value => node.next_nodes_ids %>
              <%= f.submit node.sentence, class: "btn btn-secondary btn-lg node-button" %>
            <% end %>
          <% end %>
        </div>
      </div>
    <% end %>

</div>

